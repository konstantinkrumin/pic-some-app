{"version":3,"sources":["Context.js","components/Header.js","hooks/useHover.js","components/CartItem.js","pages/Cart.js","components/Image.js","utils/index.js","pages/Photos.js","App.js","index.js"],"names":["Context","React","createContext","ContextProvider","children","useState","allPhotos","setAllPhotos","cartItems","setCartItems","useEffect","fetch","then","res","json","data","Provider","value","toggleFavorite","id","updatedArr","map","photo","isFavorite","addToCart","newItem","prevItems","removeFromCart","filter","item","emptyCart","Header","cartClassName","useContext","length","to","className","useHover","hovered","setHovered","ref","useRef","enter","leave","current","addEventListener","removeEventListener","CartItem","iconClassName","onClick","src","url","alt","width","Cart","buttonText","setButtonText","totalCostDisplay","toLocaleString","style","currency","cartItemElements","key","setTimeout","console","log","Image","img","some","getClass","i","Photos","imageElements","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.098327a8.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst Context = React.createContext();\n\nfunction ContextProvider({ children }) {\n  const [allPhotos, setAllPhotos] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n\n  const url =\n    \"https://raw.githubusercontent.com/konstantinkrumin/pic-some-app/master/src/images/images.json\";\n  useEffect(() => {\n    fetch(url)\n      .then(res => res.json())\n      .then(data => setAllPhotos(data));\n  }, []);\n\n  function toggleFavorite(id) {\n    const updatedArr = allPhotos.map(photo => {\n      if (photo.id === id) {\n        return { ...photo, isFavorite: !photo.isFavorite };\n      }\n      return photo;\n    });\n\n    setAllPhotos(updatedArr);\n  }\n\n  function addToCart(newItem) {\n    setCartItems(prevItems => [...prevItems, newItem]);\n  }\n\n  function removeFromCart(id) {\n    setCartItems(prevItems => prevItems.filter(item => item.id !== id));\n  }\n\n  function emptyCart() {\n    setCartItems([]);\n  }\n\n  return (\n    <Context.Provider\n      value={{\n        allPhotos,\n        toggleFavorite,\n        cartItems,\n        addToCart,\n        removeFromCart,\n        emptyCart\n      }}\n    >\n      {children}\n    </Context.Provider>\n  );\n}\n\nexport { ContextProvider, Context };\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Context } from \"../Context\";\n\nfunction Header() {\n  const { cartItems } = useContext(Context);\n  const cartClassName =\n    cartItems.length > 0 ? \"ri-shopping-cart-fill\" : \"ri-shopping-cart-line\";\n  return (\n    <header>\n      <Link to=\"/\">\n        <h2>Pic Some</h2>\n      </Link>\n      <Link to=\"/cart\">\n        <i className={`${cartClassName} ri-fw ri-2x`} />\n      </Link>\n    </header>\n  );\n}\n\nexport default Header;\n","import { useState, useEffect, useRef } from \"react\";\n\nfunction useHover() {\n  const [hovered, setHovered] = useState(false);\n  const ref = useRef(null);\n\n  function enter() {\n    setHovered(true);\n  }\n\n  function leave() {\n    setHovered(false);\n  }\n\n  useEffect(() => {\n    ref.current.addEventListener(\"mouseenter\", enter);\n    ref.current.addEventListener(\"mouseleave\", leave);\n\n    return () => {\n      ref.current.removeEventListener(\"mouseenter\", enter);\n      ref.current.removeEventListener(\"mouseleave\", leave);\n    };\n  }, []);\n\n  return [hovered, ref];\n}\n\nexport default useHover;\n","import React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Context } from \"../Context\";\nimport useHover from \"../hooks/useHover\";\n\nfunction CartItem({ item }) {\n  const [hovered, ref] = useHover();\n  const { removeFromCart } = useContext(Context);\n\n  const iconClassName = hovered ? \"ri-delete-bin-fill\" : \"ri-delete-bin-line\";\n\n  return (\n    <div className=\"cart-item\">\n      <i\n        className={iconClassName}\n        onClick={() => removeFromCart(item.id)}\n        ref={ref}\n      />\n\n      <img src={item.url} alt=\"pic in the check out card\" width=\"130px\" />\n      <p>$5.99</p>\n    </div>\n  );\n}\n\nCartItem.propTypes = {\n  item: PropTypes.shape({\n    url: PropTypes.string.isRequired\n  })\n};\n\nexport default CartItem;\n","import React, {useState, useContext} from \"react\"\nimport {Context} from \"../Context\"\nimport CartItem from \"../components/CartItem\"\n\nfunction Cart() {\n    const [buttonText, setButtonText] = useState(\"Place Order\")\n    const {cartItems, emptyCart} = useContext(Context)\n    const totalCost = 5.99 * cartItems.length\n    const totalCostDisplay = totalCost.toLocaleString(\"en-US\", {style: \"currency\", currency: \"USD\"})\n\n    const cartItemElements = cartItems.map(item => (\n        <CartItem key={item.id} item={item} />\n    ))\n\n    function placeOrder() {\n        setButtonText(\"Ordering...\")\n        setTimeout(() => {\n            console.log(\"Order placed!\")\n            setButtonText(\"Place Order\")\n            emptyCart()\n        }, 3000)\n    }\n\n    return (\n        <main className=\"cart-page\">\n            <h1>Check out</h1>\n            {cartItemElements}\n            <p className=\"total-cost\">Total: {totalCostDisplay}</p>\n            {\n                cartItems.length > 0 ?\n                <div className=\"order-button\">\n                    <button onClick={placeOrder}>{buttonText}</button>\n                </div> :\n                <p>You have no items in your cart.</p>\n            }\n        </main>\n    )\n}\n\nexport default Cart\n","import React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { Context } from \"../Context\";\nimport useHover from \"../hooks/useHover\";\n\nfunction Image({ className, img }) {\n  const [hovered, ref] = useHover();\n  const { toggleFavorite, addToCart, cartItems, removeFromCart } = useContext(\n    Context\n  );\n\n  function heartIcon() {\n    if (img.isFavorite) {\n      return (\n        <i\n          className=\"ri-heart-fill favorite\"\n          onClick={() => toggleFavorite(img.id)}\n        />\n      );\n    } else if (hovered) {\n      return (\n        <i\n          className=\"ri-heart-line favorite\"\n          onClick={() => toggleFavorite(img.id)}\n        />\n      );\n    }\n  }\n\n  function cartIcon() {\n    const alreadyInCart = cartItems.some((item) => item.id === img.id);\n    if (alreadyInCart) {\n      return (\n        <i\n          className=\"ri-shopping-cart-fill cart\"\n          onClick={() => removeFromCart(img.id)}\n        />\n      );\n    } else if (hovered) {\n      return (\n        <i className=\"ri-add-circle-line cart\" onClick={() => addToCart(img)} />\n      );\n    }\n  }\n\n  return (\n    <div className={`${className} image-container`} ref={ref}>\n      <img src={img.url} alt=\"pic in the cart\" className=\"image-grid\" />\n      {heartIcon()}\n      {cartIcon()}\n    </div>\n  );\n}\n\nImage.propTypes = {\n  className: PropTypes.string,\n  img: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired,\n    isFavorite: PropTypes.bool\n  })\n};\n\nexport default Image;\n","export function getClass(i) {\n    if (i % 5 === 0) {\n        return 'big';\n    }\n    else if (i % 6 === 0) {\n        return 'wide'\n    }\n}\n","import React, {useContext} from \"react\"\n\nimport Image from \"../components/Image\"\nimport {Context} from \"../Context\"\nimport {getClass} from \"../utils\"\n\nfunction Photos() {\n    const {allPhotos} = useContext(Context)\n\n    const imageElements = allPhotos.map((img, i) => (\n        <Image key={img.id} img={img} className={getClass(i)} />\n    ))\n\n    return (\n        <main className=\"photos\">\n            {imageElements}\n        </main>\n    )\n}\n\nexport default Photos\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Header from \"./components/Header\";\nimport Cart from \"./pages/Cart\";\nimport Photos from \"./pages/Photos\";\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\">\n          <Photos />\n        </Route>\n\n        <Route path=\"/cart\">\n          <Cart />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport './styles/main.scss';\n\nimport { ContextProvider } from './Context';\nimport App from './App';\n\nReactDOM.render(\n  <ContextProvider>\n    <Router>\n      <App />\n    </Router>\n  </ContextProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}